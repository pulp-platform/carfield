# Copyright 2023 ETH Zurich and University of Bologna.
# Solderpad Hardware License, Version 0.51, see LICENSE for details.
# SPDX-License-Identifier: SHL-0.51

package:
  name: carfield
  authors:
    - "Luca Valente <luca.valente@unibo.it>"    
    
dependencies:
  register_interface: { git: "https://github.com/pulp-platform/register_interface.git", version: =0.3.8                               }
  axi:                { git: https://github.com/pulp-platform/axi.git,                  version: =0.39.0-beta.4                       }
  cheshire:           { git: https://github.com/pulp-platform/cheshire.git,             rev: c13272a6b251fe0c0d1d3b52cd9f569eab547a22 } # branch: master
  hyperbus:           { git: https://github.com/pulp-platform/hyperbus.git,             rev: 80f137ce8904c78602b589918911f388d507e935 }
  car_l2:             { git: git@iis-git.ee.ethz.ch:carfield/carfield_l2_mem.git,       rev: 505c35a8df7f042fc8fc07c5dc40bc6412f7b27d } # branch: main
  safety_island:      { git: git@iis-git.ee.ethz.ch:carfield/safety-island.git,         rev: 76c2f98f59b120be03ada8928ca178e573c155e4 } # branch: master
  pulp_cluster:       { git: https://github.com/pulp-platform/pulp_cluster.git,         rev: 3eb5ed955d6bf1d47f657669351f0cc45436a75b } # branch: yt/carfield-integration
  opentitan:          { git: https://github.com/alsaqr-platform/opentitan.git,          rev: 78e94cf76c133e4426f99c9bb32c5f7c929f13d0 } # branch: lowRISC-rebase
  mailbox_unit:       { git: git@github.com:pulp-platform/mailbox_unit.git,             rev: ce0cb2e7fe48a00fd2ee8b39f675e6c33a5a31d2 } # branch: aottaviano/mailbox-old

workspace:
  package_links:
    cheshire: cheshire

sources:
  # Source files grouped in levels. Files in level 0 have no dependencies on files in this
  # package. Files in level 1 only depend on files in level 0, files in level 2 on files in
  # levels 1 and 0, etc. Files within a level are ordered alphabetically.
  # Level 0
  - hw/carfield_pkg.sv
  # Level 1
  - hw/cheshire_wrap.sv
  - hw/hyperbus_wrap.sv
  - hw/l2_wrap.sv
  # Level 2
  - hw/carfield.sv

  - target: test
    files:
      - tb/hyp_vip/s27ks0641.v
      - tb/carfield_fix.sv
      - tb/carfield_tb.sv
  
